(this.webpackJsonpozitag=this.webpackJsonpozitag||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),s=(n(49),n(37)),o=n(17),u=(n(50),n(22)),l=n.n(u),d=n(30),p=n(97),j=n(94),m=n(96),f=n(95),h=n(89),b=n(92),g=n(6),O=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),x=function(e){var t=Object(a.useState)("user@ozitag.com"),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)("user"),s=Object(o.a)(i,2),u=s[0],h=s[1],x=O(),v=function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tager.dev.ozitag.com/api/auth/user",{method:"post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({clientId:1,email:r,password:u})}).then((function(t){if(200===t.status)return e.setLoged(!0),t.json();console.log(t)})).then((function(t){return e.setData(t)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(g.jsxs)(b.a,{component:"main",maxWidth:"xs",children:[Object(g.jsx)(j.a,{}),Object(g.jsxs)("div",{className:x.paper,children:[Object(g.jsx)(f.a,{component:"h1",variant:"h5",children:"Sign in OZITAG"}),Object(g.jsxs)("form",{className:x.form,noValidate:!0,children:[Object(g.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoFocus:!0,onChange:function(e){return c(e.target.value)},value:r}),Object(g.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return h(e.target.value)},value:u}),Object(g.jsx)(p.a,{fullWidth:!0,variant:"contained",color:"primary",className:x.submit,onClick:function(){return v()},children:"Sign In"})]})]})]})},v=(n(56),function(e){var t=Object(a.useState)({}),n=Object(o.a)(t,2),r=n[0],c=n[1];Object(a.useEffect)((function(){"undefined"!==typeof e.data&&i(e.data.accessToken)}),[e]);var i=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tager.dev.ozitag.com/api/tager/user/profile",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){return c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=Object(h.a)((function(e){return{submit:{margin:e.spacing(3,0,2),width:"200px"}}}))();return Object(g.jsx)(g.Fragment,{children:"undefined"!==typeof r.data?Object(g.jsxs)("div",{className:"wrapper",children:[Object(g.jsxs)("h1",{children:["Hello, ",r.data.name]}),Object(g.jsx)("div",{className:"avaConteiner",children:Object(g.jsx)("img",{className:"ava",src:"https://png.pngtree.com/element_our/20190604/ourlarge/pngtree-user-avatar-boy-image_1482937.jpg",alt:"ava"})}),Object(g.jsxs)("div",{className:"infoConteiner",children:[Object(g.jsxs)("p",{className:"info",children:["User name: ",Object(g.jsx)("span",{className:"info__span",children:r.data.name})]}),Object(g.jsxs)("p",{className:"info",children:["Email: ",Object(g.jsx)("span",{className:"info__span",children:r.data.email})]})]}),Object(g.jsx)(p.a,{fullWidth:!0,variant:"contained",color:"primary",className:s.submit,onClick:function(){return e.setLoged(!1)},children:"Log out"})]}):null})});var w=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({}),i=Object(o.a)(c,2),u=i[0],l=i[1];return Object(g.jsx)("div",{className:"App",children:n?Object(g.jsx)(v,Object(s.a)({setLoged:r},u)):Object(g.jsx)(x,{setData:l,setLoged:r})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,99)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(w,{})}),document.getElementById("root")),y()}},[[57,1,2]]]);
//# sourceMappingURL=main.ac82f4af.chunk.js.map